"use strict";var nav=document.querySelector(".nav-bar");window.addEventListener("page:ch-done",(function(e){nav.innerText="";for(var t=0,a=e.detail.headers.length,d=-1,n=-1,i=[nav];t<a;t++){var l=document.createElement("button");if(l.innerText=e.detail.headers[t].innerText,e.detail.headers[t].id=window.root.utils.ruToUrlPure(e.detail.headers[t].id),l.setAttribute("target",e.detail.page_id+"#"+e.detail.headers[t].id),l.classList="common-label left-variator",l.addEventListener("click",window.page.drop.bind(null,l)),(d=parseInt(e.detail.headers[t].tagName[1]))==n||-1==n)i[i.length-1].appendChild(l);else if(d>n){var r=document.createElement("div");r.classList="sub-level",i[i.length-1].appendChild(r),i.push(r),r.appendChild(l)}else d<n&&(i.splice(i.length-(n-d),1/0),i[i.length-1].appendChild(l));n=d}}));