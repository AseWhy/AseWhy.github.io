{const e=document.querySelector(".nav-bar");window.addEventListener("page:ch-done",t=>{e.innerText="";for(let d=0,n=t.detail.headers.length,l=-1,a=-1,i=[e];d<n;d++){const e=document.createElement("button");if(e.innerText=t.detail.headers[d].innerText,t.detail.headers[d].id=window.root.utils.ruToUrlPure(t.detail.headers[d].id),e.setAttribute("target",t.detail.page_id+"#"+t.detail.headers[d].id),e.classList="common-label left-variator",e.addEventListener("click",window.drop.bind(null,e)),l=parseInt(t.detail.headers[d].tagName[1]),l==a||-1==a)i[i.length-1].appendChild(e);else if(l>a){const t=document.createElement("div");t.classList="sub-level",i[i.length-1].appendChild(t),i.push(t),t.appendChild(e)}else l<a&&(i.splice(i.length-(a-l),1/0),i[i.length-1].appendChild(e));a=l}})}